(this.webpackJsonpeditor=this.webpackJsonpeditor||[]).push([[0],{115:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),i=n(33),l=n.n(i),s=n(48),u=n(70),d=n(14),m=n(66),f=n.n(m),v=n(71),p=n(151),b=n(161),h=n(152),E=n(160),j=n(149),g=n(150),y=n(42),O=n(68),w=n.n(O);n(90);function k(e){var t=e.name,n=e.children,a=e.onSelect,c=e.isDirectory,o=Object(v.a)(e,["name","children","onSelect","isDirectory"]);return r.a.createElement(r.a.Fragment,null,c?r.a.createElement(E.a,null,r.a.createElement(j.a,{expandIcon:r.a.createElement(w.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(y.a,null,t)),r.a.createElement(g.a,null,r.a.createElement(p.a,{disablePadding:!0,dense:!0},n.map((function(e){return r.a.createElement(k,Object.assign({key:e.name,onSelect:a},e))}))))):r.a.createElement(b.a,Object.assign({button:!0,dense:!0,onClick:function(){return a(o.id)}},o),r.a.createElement(h.a,null,r.a.createElement("span",null,t))))}var C=function(e){var t=e.items,n=e.depthStep,a=e.depth,c=e.onSelect;return r.a.createElement("div",{className:"sidebar"},r.a.createElement(p.a,{disablePadding:!0,dense:!0},t.map((function(e,t){return r.a.createElement(k,Object.assign({key:"".concat(e.name).concat(t),depthStep:n,depth:a,onSelect:c},e))}))))},S=n(153);n(94);var x=function(e){var t=e.onClick,n=e.label,a=e.type;return r.a.createElement(S.a,{className:"button",variant:"contained",color:a,onClick:t},n)};n(95);var N=function(e){var t=e.onConfirm,n=e.onCancel,a=e.width;return r.a.createElement("div",{className:"footer",style:{width:a-300}},r.a.createElement(x,{label:"Delete",type:"secondary",onClick:n}),r.a.createElement(x,{label:"Save",type:"primary",onClick:t}))},D=n(155),F=n(157),W=n(156),B=n(154);var I=Object(B.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper}}}));var P=function(e){var t=e.handleChange,n=e.value,a=e.items,c=I();return r.a.createElement("div",{className:c.root},r.a.createElement(D.a,{position:"static",color:"default"},r.a.createElement(F.a,{value:n,onChange:t,variant:"scrollable",scrollButtons:"on",indicatorColor:"primary",textColor:"primary","aria-label":"scrollable tabs"},a&&a.map((function(e,t){return r.a.createElement(W.a,Object.assign({key:e.name,label:e.name},{id:"scrollable-force-tab-".concat(n=t),"aria-controls":"scrollable-force-tabpanel-".concat(n)}));var n})))))},z=n(159),H=n(158),J=(n(96),n(97),n(69)),L=n.n(J).a.create({baseURL:"https://my-json-server.typicode.com/open-veezoo/editor",timeout:5e3,headers:{"Content-Type":"application/json"}});function $(){return L.get("/filetree")}function G(e){return L.put("/files/".concat(e.id),e)}function M(e){return r.a.createElement(H.a,Object.assign({elevation:6,variant:"filled"},e))}var R=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),i=Object(d.a)(o,2),m=i[0],v=i[1],p=Object(a.useState)([{name:"NewFile.java",id:-1,content:""}]),b=Object(d.a)(p,2),h=b[0],E=b[1],j=Object(a.useState)(),g=Object(d.a)(j,2),y=g[0],O=g[1],w=Object(a.useState)(0),k=Object(d.a)(w,2),S=k[0],x=k[1],D=Object(a.useState)(!1),F=Object(d.a)(D,2),W=F[0],B=F[1],I=Object(a.useState)(!1),H=Object(d.a)(I,2),J=H[0],R=H[1],T=Object(a.useState)(""),U=Object(d.a)(T,2),q=U[0],A=U[1];Object(a.useEffect)((function(){O(window.innerWidth),window.addEventListener("resize",(function(){O(window.innerWidth)})),$().then((function(e){c(e.data)})).catch((function(e){A("Error loading files"),R(!0)}))}),[]);var K=function(e,t,n){var a=n||h;a[S].content=m,E(a),x(t),v(e.content)},Q=function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n=h[S].id,L.delete("/files/".concat(n));case 3:return e.next=5,$();case 5:t=e.sent,c(t.data),A("File deleted successfully"),B(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),A("Error deleting your file"),R(!0);case 15:case"end":return e.stop()}var n}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=h[S]).content=m,e.next=5,G(t);case 5:A("File saved successfully"),B(!0),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),A("Error saving your file"),R(!0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),X=function(e,t){"clickaway"!==t&&R(!1)},Y=function(e,t){"clickaway"!==t&&B(!1)};return r.a.createElement("div",{className:"container"},r.a.createElement(C,{items:n,onSelect:function(e){var t=h.find((function(t){return t.id===e}));t?K(t,h.findIndex((function(t){return t.id===e}))):function(e){return L.get("/files/".concat(e))}(e).then((function(t){var n=[].concat(Object(u.a)(h.length>1||-1!==h[0].id?h:[]),[{name:t.data.name,id:e,content:t.data.content}]);K(t.data,n.length-1,n)})).catch((function(e){A("Error opening your file"),R(!0)}))}}),r.a.createElement("div",{className:"editor-container"},r.a.createElement(P,{value:S,handleChange:function(e,t){return K(h[t],t)},items:h}),r.a.createElement(f.a,{mode:"java",onChange:v,value:m,name:"editor-div",editorProps:{$blockScrolling:!0,height:"100%"}}),r.a.createElement(N,{width:y||0,onCancel:Q,onConfirm:V})),r.a.createElement(z.a,{open:W,autoHideDuration:6e3,onClose:Y},r.a.createElement(M,{onClose:Y,severity:"success"},q)),r.a.createElement(z.a,{open:J,autoHideDuration:6e3,onClose:X},r.a.createElement(M,{onClose:X,severity:"error"},q)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,t,n){e.exports=n(115)},90:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},97:function(e,t,n){}},[[77,1,2]]]);
//# sourceMappingURL=main.049d7ab7.chunk.js.map